{"version":3,"sources":["webpack:///D:/Project/uni-app/ShowMap/main.js","webpack:///D:/Project/uni-app/ShowMap/pages/map/indexmap.vue?9325","webpack:///D:/Project/uni-app/ShowMap/pages/map/indexmap.vue?a65c","webpack:///D:/Project/uni-app/ShowMap/pages/map/indexmap.vue?9c4c","webpack:///D:/Project/uni-app/ShowMap/pages/map/indexmap.vue?6cc3","webpack:///D:/Project/uni-app/ShowMap/static/logo.png","webpack:///D:/Project/uni-app/ShowMap/static/qq.png","webpack:///D:/Project/uni-app/ShowMap/pages/map/indexmap.vue","webpack:///D:/Project/uni-app/ShowMap/pages/map/indexmap.vue?edc3","webpack:///D:/Project/uni-app/ShowMap/pages/map/indexmap.vue?2297"],"names":["Page","App","data","changeIcon","playIcon","iconEnd","iconStart","exitIcon","backOffIcon","forwardIcon","startDate","requestNum","markerIndex","isPlay","localRequestNum","endDate","longitude","latitude","localScale","requestData","ak","service_id","page_size","entity_name","is_processed","coord_type_output","includePoints","centerPoint","setCenter","playTrajectory","isPlayNow","localMarker","iconPath","id","width","height","polyline","points","color","dottedLine","vehicleId","timeRangeLegal","methods","searchTrajectory","start_time","end_time","$root","$mp","query","startDateChange","e","mp","detail","value","valiDate","mapChange2","maxLat","maxLon","minLat","minLon","i","length","console","log","endDateChange","startScape","Date","endScape","wx","showToast","title","icon","changeScale","mapCtx","createMapContext","getScale","success","res","scale","timeParse","val","replace","setHours","getTime","search","Math","ceil","setCenterPoints","lon","lat","translateMarker","markerId","destination","autoRotate","rotate","play","show","setTimeout","clearTimeout","pauseIcon","backOff","init","Object","assign","$data","$options","getLocation","type","date","curDateSart","curEnd","getDate","getFullYear","getMonth","forward","onShow"],"mappings":"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","file":"pages/map/indexmap.js","sourcesContent":["import 'uni-pages';\nimport pageFactory from 'mpvue-page-factory'\n    import App from './pages/map/indexmap.vue'\n    Page(pageFactory(App))","import { render, staticRenderFns } from \"./indexmap.vue?vue&type=template&id=0cdd55a7&\"\nimport script from \"./indexmap.vue?vue&type=script&lang=js&\"\nexport * from \"./indexmap.vue?vue&type=script&lang=js&\"\nimport style0 from \"./indexmap.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"D:\\\\Program Files\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\vue-hot-reload-api\\\\dist\\\\index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!module.hot.data) {\n      api.createRecord('0cdd55a7', component.options)\n    } else {\n      api.reload('0cdd55a7', component.options)\n    }\n    module.hot.accept(\"./indexmap.vue?vue&type=template&id=0cdd55a7&\", function () {\n      api.rerender('0cdd55a7', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"Project/uni-app/ShowMap/pages/map/indexmap.vue\"\nexport default component.exports","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./indexmap.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--18-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./indexmap.vue?vue&type=script&lang=js&\"","import mod from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./indexmap.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-1!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/index.js??ref--6-oneOf-1-2!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./indexmap.vue?vue&type=style&index=0&lang=css&\"","export * from \"-!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--17-0!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/vue-loader/lib/index.js??vue-loader-options!./indexmap.vue?vue&type=template&id=0cdd55a7&\"","module.exports = \"data:image/png;base64,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UmVhZHlxyWU8AAADKmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxMzIgNzkuMTU5Mjg0LCAyMDE2LzA0LzE5LTEzOjEzOjQwICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpGRkE0MjcxNTdEQzYxMUU4QkZBOERDOEVCQ0U0NTBGMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpGRkE0MjcxNDdEQzYxMUU4QkZBOERDOEVCQ0U0NTBGMSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxNS41IChNYWNpbnRvc2gpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QkE4RkFCN0M3REM1MTFFOEJGQThEQzhFQkNFNDUwRjEiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QkE4RkFCN0Q3REM1MTFFOEJGQThEQzhFQkNFNDUwRjEiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5BZZ+3AAAB1ElEQVR42mJkAALtmZb/GfAAJkIKwIoYiAA4FV1JO0Ylk0hWxILLHTgV6cyywqoIIIAYiQinb8S4iYs036E7esgEJq6ABAGAACImMBmo5m6yDcLlR5gcNnnaumhADWIhJoOTbRC+9ILPa9+o4TWAAAIlyDVAOphCc1SYqGAICNwZxumIidi8NILz2qhBdCyPaOcicgq1wRnYAAFErRKSgZo+GzSOoWpQD1sHsRCjCDnzkpp90DM+If2jUTbqoFEHjZZDpJYroyFESeNmNFHTykEqg8g9bwACCNRiVAYyLgEx1wA7Zu3V9OMhVBt1opajBlsaCh7NZaMOGnXQgFeupHZjKO1CjUbZqINGHTTqoFEHjTpo1EGjDhqMgw342kejUTaahggpoOdg1WiUjTpoODoIvL7tzSBykB5AgPbtGIdBGIYCaBR16swROEQvzT06cxjm1lRFDC0LcpXC+xJzpIdJhOW8e4z359MVWSde1C32xRYasC0mCmascDZzrQz+7NgABAgQINnRY/iUrb5D9v9l9toqCBAgQIAAAQIESAABAgQIEKCD5ZK9QPaMigoCdIJP7NdjOyoIECBAgGQBGjB8zVDjam153T0OqInJbBAWfdg8AExKZVcA71uIAAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/img/qq.fa3136f5.png\";","\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nimport iconEnd from '../../static/logo.png'\r\nimport iconStart from '../../static/logo.png'\r\nimport playIcon from '../../static/qq.png'\r\nimport backOffIcon from '../../static/logo.png'\r\nimport pauseIcon from '../../static/logo.png'\r\nimport exitIcon from '../../static/logo.png'\r\nimport forwardIcon from '../../static/logo.png'\r\nexport default {\r\n    data () {\r\n        return {\r\n            changeIcon:playIcon,\r\n            iconEnd,iconStart,exitIcon,backOffIcon,forwardIcon,\r\n            startDate:'22',\r\n            requestNum:0,\r\n            markerIndex:0,\r\n            isPlay:false,\r\n            localRequestNum:0,\r\n            endDate:'22',\r\n            longitude:113.3245211,\r\n            latitude:23.10229,\r\n            localScale:12,\r\n            requestData:{\r\n                ak:'r2HdBmVGA8K1e8MtecYEwEzknDQWMzPP',\r\n                service_id:157038,\r\n                page_size:5000,\r\n                entity_name:'29211750a219419b80e66f28939576b4',\r\n                is_processed:0,\r\n                coord_type_output:'gcj02'\r\n                // process_option:'need_denoise=0',\r\n            },\r\n            includePoints:[],\r\n            centerPoint:{},\r\n            setCenter:'',\r\n            playTrajectory:'',\r\n            isPlayNow:false,\r\n            localMarker: [{//标注\r\n                iconPath: iconStart,\r\n                id: 0,\r\n                latitude: 23.10229,\r\n                longitude: 113.3245211,\r\n                width: 20,\r\n                height: 30\r\n            },{//标注\r\n                iconPath: iconEnd,\r\n                id: 1,\r\n                latitude: 0,\r\n                longitude: 0,\r\n                width: 20,\r\n                height: 30\r\n            }],\r\n            polyline: [{//线型覆盖物\r\n                points: [[119.478935,30.997761],[116.578939,31.997825],[116.678912,32.998549],[116.778912,33.998549],[116.878998,34.998555],\r\n\t\t\t\t\t\t\t[116.978998,35.998555],[117.479282,36.99856],[117.579658,37.998528],[117.680151,38.998453],[116.480784,39.998302],\r\n\t\t\t\t\t\t\t[116.480784,39.998302],[116.481149,39.998184],[116.481573,39.997997],[116.481863,39.997846],[116.482072,39.997718],\r\n\t\t\t\t\t\t\t[116.482362,39.997718],[116.483633,39.998935],[116.48367,39.998968],[116.484648,39.999861]],\r\n                color:\"#129cff\",\r\n                width: 4,\r\n                dottedLine: false\r\n            }],\r\n            vehicleId:'', //查询车辆ID,\r\n            timeRangeLegal:true //查询时间区间是否合法 \r\n        }\r\n    },\r\n    methods: {\r\n        searchTrajectory(startDate){//鹰眼查询轨迹\r\n            this.requestData.start_time=this.localRequestNum*3600*12+startDate\r\n            this.requestData.end_time=this.requestData.start_time+3600*12;\r\n            this.requestData.entity_name = this.$root.$mp.query.vehicleId || \"29211750a219419b80e66f28939576b4\";\r\n           /* wx.request({\r\n                url: 'https://yingyan.baidu.com/api/v3/track/gettrack', //仅为示例，并非真实的接口地址\r\n                data: this.requestData,\r\n                success: (res) => {\r\n                    if(res.data.points&&res.data.points.length>0){\r\n                        this.polyline[0].points=this.polyline[0].points.concat(res.data.points);\r\n                    } else {\r\n                        return wx.showToast({title:\"没有查询到轨迹点\",icon: 'none'});\r\n                    }\r\n                    this.localRequestNum++;\r\n                    if(this.localRequestNum<this.requestNum){\r\n                        this.searchTrajectory(startDate);\r\n                    }else{\r\n                        let polyline=this.polyline[0].points;\r\n                        this.mapChange2();\r\n                        console.log(polyline)\r\n                        if(polyline.length>1){\r\n                            this.localMarker[0].latitude=polyline[0].latitude;\r\n                            this.localMarker[0].longitude=polyline[0].longitude;\r\n                            this.localMarker[1].latitude=polyline[polyline.length-1].latitude;\r\n                            this.localMarker[1].longitude=polyline[polyline.length-1].longitude;\r\n                            this.isPlay=true;\r\n                            this.includePoints=polyline;\r\n                        }\r\n                    }\r\n                }\r\n            }) */\r\n        },\r\n        startDateChange(e) {\r\n            this.startDate=e.mp.detail.value;\r\n            this.valiDate()\r\n        },\r\n        mapChange2(){\r\n           let maxLat=0,maxLon=0,minLat=1000,minLon=1000,i,points=this.polyline[0].points;\r\n           for(i=0;i<points.length;i++){\r\n               if(points[i].longitude>maxLon){\r\n                   maxLon=points[i].longitude;\r\n               }\r\n               if(points[i].longitude<minLon){\r\n                   minLon=points[i].longitude;\r\n               }\r\n               if(points[i].latitude>maxLat){\r\n                   maxLat=points[i].latitude;\r\n               }\r\n               if(points[i].latitude<minLat){\r\n                   minLat=points[i].latitude;\r\n               }\r\n           }\r\n            this.latitude=(minLat+maxLat)/2;\r\n            this.longitude=(minLon+maxLon)/2;\r\n            console.log(this.localScale)\r\n        },      \r\n        endDateChange(e) {\r\n            this.endDate=e.mp.detail.value;\r\n            this.valiDate()\r\n        },\r\n        valiDate() { //查询时间是否合法\r\n            let startScape = (+new Date(this.startDate));\r\n            let endScape = (+new Date(this.endDate));\r\n            if((endScape- startScape) > 86400000) {\r\n                this.timeRangeLegal = false;\r\n                console.log(startScape+\":\"+endScape)\r\n                return wx.showToast({title:\"区间不能大于两天\",icon: 'none'});\r\n            } else {\r\n                this.timeRangeLegal = true;\r\n            }\r\n        },\r\n        changeScale(){\r\n            let mapCtx = wx.createMapContext(\"map\");\r\n            mapCtx.getScale ({\r\n                success:(res) => {\r\n                    this.localScale=res.scale\r\n                }\r\n            })\r\n        },\r\n        timeParse(val){\r\n            val=val.replace(/-/g, '/');\r\n            let data=new Date(val);\r\n            data.setHours(0);\r\n           return (data.getTime())/1000;\r\n        },\r\n        search(){\r\n            if(!this.timeRangeLegal) {\r\n                return wx.showToast({title:\"区间不能大于两天\",icon: 'none'});\r\n            }\r\n            let startDate,endDate;\r\n            startDate=this.timeParse(this.startDate)\r\n            endDate=this.timeParse(this.endDate);\r\n            this.requestNum=Math.ceil((endDate-startDate)/(3600*12)); //半天请求一次\r\n            this.localRequestNum=0;\r\n            this.polyline[0].points=[[119.478935,30.997761],[116.578939,31.997825],[116.678912,32.998549],[116.778912,33.998549],[116.878998,34.998555],\r\n\t\t\t\t\t\t\t[116.978998,35.998555],[117.479282,36.99856],[117.579658,37.998528],[117.680151,38.998453],[116.480784,39.998302],\r\n\t\t\t\t\t\t\t[116.480784,39.998302],[116.481149,39.998184],[116.481573,39.997997],[116.481863,39.997846],[116.482072,39.997718],\r\n\t\t\t\t\t\t\t[116.482362,39.997718],[116.483633,39.998935],[116.48367,39.998968],[116.484648,39.999861]];\r\n            this.searchTrajectory(startDate)\r\n        },\r\n        setCenterPoints(lon,lat) {\r\n            let mapCtx = wx.createMapContext(\"map\");\r\n            mapCtx.translateMarker({\r\n                markerId:0,\r\n                destination:{longitude:lon,latitude:lat},\r\n                autoRotate:true,\r\n                rotate:0\r\n            })            \r\n        },\r\n        play(){\r\n            let  show= () => {\r\n                this.playTrajectory=setTimeout(() => {\r\n                    // console.log(this.polyline[0].points[this.markerIndex].longitude,this.polyline[0].points[this.markerIndex].latitude)\r\n                    // this.setCenterPoints(this.polyline[0].points[this.markerIndex].longitude,this.polyline[0].points[this.markerIndex].latitude)\r\n                    this.localMarker[1].latitude= this.polyline[0].points[this.markerIndex].latitude\r\n                    this.localMarker[1].longitude= this.polyline[0].points[this.markerIndex].longitude\r\n                    this.markerIndex++;\r\n                    if(this.markerIndex<this.polyline[0].points.length){\r\n                        show()\r\n                    }else{\r\n                        this.changeIcon=playIcon;\r\n                        this.markerIndex=0;\r\n                        this.isPlayNow=false;\r\n                    }\r\n                },200)\r\n            }\r\n            if(this.isPlayNow){\r\n                clearTimeout(this.playTrajectory);\r\n            }else{\r\n                show();\r\n            }\r\n            this.changeIcon==pauseIcon?this.changeIcon=playIcon:this.changeIcon=pauseIcon;\r\n            this.isPlayNow=!this.isPlayNow;\r\n        },\r\n        backOff(){\r\n            if(this.playTrajectory!=''){\r\n                clearTimeout(this.playTrajectory)\r\n            }\r\n            if(this.markerIndex>0){\r\n                this.markerIndex--;\r\n                // this.setCenterPoints(this.polyline[0].points[this.markerIndex])\r\n                this.localMarker[1].latitude= this.polyline[0].points[this.markerIndex].latitude\r\n                this.localMarker[1].longitude= this.polyline[0].points[this.markerIndex].longitude\r\n            }\r\n        },\r\n        init(){\r\n            Object.assign(this.$data, this.$options.data());\r\n            wx.getLocation({//获取当前位置\r\n                type: 'gcj02',\r\n                success: (res) => {\r\n                    console.log(res)\r\n                    this.latitude = res.latitude\r\n                    this.longitude = res.longitude\r\n                }\r\n            })\r\n            let date=new Date();\r\n            let curDateSart = '';\r\n            let curEnd = \"\";\r\n            console.log(date.getDate())\r\n            if(date.getDate()<10){\r\n                curDateSart = '0'+date.getDate();\r\n                curEnd = '0'+(date.getDate()+1);\r\n                if(date.getDate() == 9){\r\n                    curDateSart = '0'+date.getDate();\r\n                    curEnd = date.getDate()+1;                    \r\n                }\r\n            } else {\r\n                curDateSart = date.getDate();\r\n                curEnd = date.getDate()+1;\r\n            }\r\n            this.startDate=date.getFullYear()+'-'+(date .getMonth()+1)+'-'+curDateSart; //获取当前日(1-31)\r\n            this.endDate=date.getFullYear()+'-'+(date .getMonth()+1)+'-'+curEnd; //获取当前日(1-31)\r\n        },\r\n        forward(){\r\n            if(this.playTrajectory!=''){\r\n                clearTimeout(this.playTrajectory)\r\n                this.playTrajectory=''\r\n            }\r\n            if(this.markerIndex<this.polyline[0].points.length){\r\n                this.markerIndex++;\r\n                // this.setCenterPoints(this.polyline[0].points[this.markerIndex])\r\n                this.localMarker[1].latitude= this.polyline[0].points[this.markerIndex].latitude\r\n                this.localMarker[1].longitude= this.polyline[0].points[this.markerIndex].longitude\r\n            }\r\n        }\r\n    },\r\n    onShow(){\r\n        // this.longitude = this.$root.$mp.query.longitude;\r\n        // this.latitude = this.$root.$mp.query.latitude;        \r\n        this.init()\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"view\",\n    { staticClass: \"container\" },\n    [\n      _c(\"map\", {\n        staticStyle: { width: \"100%\", height: \"800rpx\" },\n        attrs: {\n          id: \"map\",\n          longitude: _vm.longitude,\n          latitude: _vm.latitude,\n          scale: 5,\n          polyline: _vm.polyline,\n          markers: _vm.localMarker\n        }\n      }),\n      _c(\n        \"view\",\n        { staticStyle: { width: \"100%\", height: \"12%\", position: \"relative\" } },\n        [\n          !_vm.isPlay\n            ? _c(\n                \"view\",\n                { staticClass: \"modal-dialog\" },\n                [\n                  _c(\n                    \"view\",\n                    { staticClass: \"modal-content\" },\n                    [\n                      _c(\"span\", { staticClass: \"index_label\" }, [\n                        _vm._v(\"起始时间\")\n                      ]),\n                      _c(\n                        \"picker\",\n                        {\n                          staticClass: \"index_picker\",\n                          attrs: {\n                            mode: \"date\",\n                            value: _vm.startDate,\n                            start: \"1999-01-01\",\n                            end: \"2099-01-01\",\n                            eventid: \"06364acd-0\"\n                          },\n                          on: { change: _vm.startDateChange }\n                        },\n                        [_c(\"view\", [_vm._v(_vm._s(_vm.startDate))])]\n                      )\n                    ],\n                    1\n                  ),\n                  _c(\n                    \"view\",\n                    { staticClass: \"modal-content\" },\n                    [\n                      _c(\"span\", { staticClass: \"index_label\" }, [\n                        _vm._v(\"结束时间\")\n                      ]),\n                      _c(\n                        \"picker\",\n                        {\n                          staticClass: \"index_picker\",\n                          attrs: {\n                            mode: \"date\",\n                            value: _vm.endDate,\n                            start: \"1999-01-01\",\n                            end: \"2099-01-01\",\n                            eventid: \"06364acd-1\"\n                          },\n                          on: { change: _vm.endDateChange }\n                        },\n                        [_c(\"view\", [_vm._v(_vm._s(_vm.endDate))])]\n                      )\n                    ],\n                    1\n                  ),\n                  _c(\n                    \"button\",\n                    {\n                      staticClass: \"index_button searchTrajectory\",\n                      attrs: {\n                        type: \"primary\",\n                        size: \"mini\",\n                        eventid: \"06364acd-2\"\n                      },\n                      on: { click: _vm.search }\n                    },\n                    [_vm._v(\"查询\")]\n                  )\n                ],\n                1\n              )\n            : _vm._e(),\n          _vm.isPlay\n            ? _c(\"view\", { staticClass: \"play_box\" }, [\n                _c(\"img\", {\n                  staticClass: \"back_button\",\n                  attrs: { src: _vm.exitIcon, eventid: \"06364acd-3\" },\n                  on: { click: _vm.init }\n                }),\n                _c(\"img\", {\n                  staticClass: \"play_back\",\n                  attrs: { src: _vm.backOffIcon, eventid: \"06364acd-4\" },\n                  on: { click: _vm.backOff }\n                }),\n                _c(\"img\", {\n                  staticClass: \"play_play\",\n                  attrs: { src: _vm.changeIcon, eventid: \"06364acd-5\" },\n                  on: { click: _vm.play }\n                }),\n                _c(\"img\", {\n                  staticClass: \"play_back\",\n                  attrs: { src: _vm.forwardIcon, eventid: \"06364acd-6\" },\n                  on: { click: _vm.forward }\n                })\n              ])\n            : _vm._e()\n        ]\n      )\n    ],\n    1\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }"],"sourceRoot":""}